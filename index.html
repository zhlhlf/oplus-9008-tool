<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>欧加真9008 Tool by zhlhlf</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1 class="app-title">欧加真9008 Tool by zhlhlf</h1>
  <div class="container">
    <div class="left-panel">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
        <h2 style="margin: 0;">logs</h2>
        <button id="clear-logs-btn" class="small-btn">clean</button>
      </div>
      <div id="logs"></div>
    </div>
    
    <div class="right-panel">
      
      <div class="section compact">
        <h2>1. Connection & Initialization</h2>
        <div class="form-group">
          <label>Port:</label>
          <span id="port-display">Searching...</span>
          <button id="refresh-port" class="small-btn">刷新</button>
        </div>

        <div class="form-group">
          <label>DevPrg:</label>
          <input type="text" id="devprg-path" readonly placeholder="选择 devprg 文件" style="cursor: pointer;">
        </div>

        <div class="form-group">
          <label>Digest:</label>
          <input type="text" id="digest-path" readonly placeholder="选择 digest 文件" style="cursor: pointer;">
        </div>

        <div class="form-group">
          <label>Signature:</label>
          <input type="text" id="sig-path" readonly placeholder="选择 signature 文件" style="cursor: pointer;">
        </div>

        <button id="start-btn" class="primary-btn compact-btn">Connect & Initialize</button>
      </div>

      <div class="section compact" id="xml-section">
        <h2>2. XML Operations</h2>
        <div class="form-group">
          <label>XML File:</label>
          <input type="text" id="xml-path" readonly placeholder="选择 XML 文件 (例如 rawprogram0.xml)" style="cursor: pointer;">
        </div>
        
        <div id="xml-preview" style="margin-bottom: 10px; display: none;">
          <div class="table-container">
            <table id="xml-table">
              <thead>
                <tr>
                  <th>Label</th>
                  <th>Filename</th>
                  <th>size(kb)</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <div style="display: flex; gap: 10px;">
          <button id="read-xml-btn" data-xml-mode="read" class="secondary-btn compact-btn" style="background-color: #edbebe;">read by xml</button>
          <button id="run-xml-btn" data-xml-mode="run" class="secondary-btn compact-btn" style="background-color: #170000; color: #ff0000; border-color: #ff0000;">write by xml</button>
        </div>
      </div>

      <div class="section compact" id="control-section">
        <h2>3. Device Control</h2>
        <div class="button-group" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
          <button id="reboot-btn" class="secondary-btn compact-btn">Reboot</button>
          <button id="reboot-recovery-btn" class="secondary-btn compact-btn">Reboot to Recovery</button>
          <button id="reboot-fastboot-btn" class="secondary-btn compact-btn">Reboot to Fastboot</button>
          <button id="reboot-edl-btn" class="secondary-btn compact-btn">Reboot to EDL</button>
          <button id="read-gpt-btn" class="secondary-btn compact-btn">Read Partition Table</button>
        </div>
      </div>
    </div>
  </div>
  <script src="renderer.js"></script>
</body>
</html>
